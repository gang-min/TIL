# API란?

![api](/image/api.png)

- `API는 '프로그램과 프로그램을 연결시켜주는 매개체'이다.`

* 보통 프로그램끼리 통신을 하기 위해선 프로그램을 만드는 개발자가 해당 프로그램이 잘 통신할 수 있도록 `규칙`들을 잘 설계하는 게 중요하다.

* 이때 아래와 같은 경우에는 프로그램끼리 통신하기 힘들다.

  1. 접근할 프로그램의 규칙이 잘 짜여지지 않고 복잡한 경우

  2. 프로그램 보안 상 외부에서 누구나 사용할 수 없고 제한된 기능들을 간접적을 제공하고 싶을 때

* 그럴 떄 `API`라는 것이 프로그램과 프로그램 사이의 중개자 역할을 해준다.

* 즉, `API는 쉽게 이야기하면 규칙들의 집합이다.` API가 대신해주는 프로그램의 기능들을 미리 정리해서 규칙들을 잘 세워두면 클라이언트는 접근할 프로그램을 잘 모르더라도 API에 따라 손쉽게 통신할 수 있게 된다.

## API의 역할은?

1.  API는 서버와 데이터베이스에 대한 출입구 역할을 한다.

2.  API는 애플리케이션과 기기가 원활하게 통신할 수 있도록 한다.

3.  API는 모든 접속을 표준화한다.

![api](/image/api2.png)

- 클라이언트와 서버는 많은 대화 하는데 위와같이 규칙이 없이 마구잡이식으로 대화를 한다면 서버는 해당 요청들을 하나씩 대신 입력해 줄 수 없다.

![api](/image/api3.png)

- 이를 해결하기 위해 "앞으로 클라이언트와 서버가 대화할 때는 `[서버야/ 이 동작을/ 여기에 해줘]` 처럼 하자" 라는 규칙을 정하면 된다.

- 마구잡이식으로 했던 대화를 이 대화 규칙에 맞추면 아래와 같은 형태가 되는 거다.
  1. 회원가입시켜줘 -> [서버야/ 만들어줘/ 아이디]
  2. 영상지워줘 -> [서버야/ 지워줘/ 영상]
  3. 댓글수정해줘 -> [서버야/ 수정해줘/ 댓글]

* `이러한 대화의 규칙을 API라고 부른다.`

* API의 규칙은 개발자 마음대로이다. 물론 혼자 쓴다면 마음대로 규칙을 써서 해도 문제가 없겠지만 API는 클라이언트와 서버 뿐만 아니라 내 서비스와 다른 서비스 사이에서도 일어난다.

* 예를 들어 앱에 날씨 기능을 추가하고 싶으면 기상청 서버가 만든 API 규칙에 맞춰 `[기상청아/ 줘/ 내일날씨]`같은 메시지를 보내야한다. 하지만 기상청이 나만 아는 방식으로 API를 만들었다면? 개발자들이 아주 불편할 것이다.

* 그래서 전 세계의 개발자들이 "야 안되겠다 이거 통일하자"라는 생각을 하기 시작하고 앞서 말한 모든 `요청들을 4가지로 딱 나눴다.`

```
올려줘 : POST

불러와줘 : GET

수정해줘 : PUT / PATCH

지워줘 : DELETE
```

- 대답도 간단해 졌다.

```
200 : 좋아

400 : 니가 잘못해서 싫어

500 : 내가 잘못해서 싫어
```

![api](/image/api4.png)

- 이렇게 함꼐 만든 통일된 대화 규칙을 `REST API`라고 부른다.

> 예를 들어, 클라이언트가 "영화 빅쇼트 보여줘!" 라고 요청한다면 "GET MOVIE/BIG SHORT" 라는 요청을 보낼 것이고 서버는 "200"이라는 응답을 할 것이다.
