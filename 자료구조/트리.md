# 트리 (Tree)

## 1. 트리 자료구조 필요성

- 연결 리스트의 삽입, 삭제시 데이터를 이동하지 않는 장점을 살린다.

- 연결 리스트 검색시 노드의 처음부터 찾아가야하는 단점을 보완한다.

## 2. 트리의 개념

- 트리는 1개 이상의 노드를 갖는 집합으로 노드들은 다음 조건을 만족한다.

  - 트리에는 `루트(root)`라고 부르는 특별한 노드가 있다.

  - 다른 노드들은 원소가 중복되지 않는 n개의 부속 트리(sub tree) T1,T2...Tn으로 나누어지며 Ti 각각은 루트의 부속 트리라고 부른다.

  - 트리는 사이클이 없는 그래프 (acyclic graph)이며 계층 구조를 이룬다.

  - 자료구조 `트리(Tree)`는 나무를 거구로 그린다.

  - 부속 트리 T1, T2, T3는 다시 트리 구조를 이룬다.

    ![트리](/image/트리.png)

- 즉, 그래프의 일종으로 `두 노드 사이의 하나의 간선만 연결`되어 있는, `최소 연결과 계층 형태`의 비선형 자료구조이다.

## 3. 트리의 특징

- 최소 연결 트리로 불린다.

- 계층 모델이다.

- 방향 `비순환 `그래프(DAG : Directed Acyclic Graph) 한 종류이다.

- 노드가` N개`인 트리는 항상 `N-1개`의 링크(link)를 가진다.

- 트리에서, 루트에서 어떤 노드로 가는 경로는 유일하다. 또한 임의의 두 노드 간의 경로도 유일하다.(같은 노드를 두 번 이상 방만하지 않는 다는 조건 하에)

- `트리의 종류`

  - 일반 트리

  - 이진 트리 (binary tree)

    1. 포화 이진 트리

    2. 완전 이진 트리

    3. 정 이진 트리

    4. 편향 이진 트리

    5. 균형 이진 트리

       1. AVL

       2. Red-Black 트리

       3. B 트리

       4. B+ 트리

       5. B\* 트리

  - 이진 탐색 트리 (binary search tree)

  - 힙(Heap)

## 4. 트리에 관한 용어

![트리](/image/트리2.png)

- 노드의 차수 (degree) : 노드의 부속 트리의 개수. 즉, 노드가 지닌 가지의 수

- 노드 크기 (size) : 자신을 포함한 모든 자손 노드의 개수

- 트리의 차수 (degree of tree) : 트리의 최대 차수. 즉, 어느 하나의 노드가 가진 최대의 차수

- 맆 (leaf, 단말, terminal) 노드 : 차수가 0인 노드, 즉 맨 끝에 달린 노드들이다.

- 내부 (internal, non-terminal) 노드 : 차수가 1 이상인 노드

- 부모 (parent) : 부속 트리 (sub tree)를 가진 노드

- 자식 (child) : 부모에 속하는 부속 노드

- 형제 (sibling) : 부모가 같은 자식 노드들

- 조상 (ancestor) : 노드의 부모 노드들의 총 집합

- 자손 (descendant) : 노드의 부속 트리에 있는 모든 노드들

- 레벨(높이) (level(height)) : 루트 노드들로부터 깊이 (루트 노드의 레벨 = 1)

- 트리의 깊이 (depth of tree) : 트리에 속한 노드의 최대 레벨

- 노드의 깊이 (depth of node) : 루트에서 특정 노드에 도달하기 위한 간선의 개수 (level의 차)

예시 1)

![트리](/image/트리3.png)

예시 2)

![트리](/image/트리4.png)

## 5. 트리 순회

- 트리 구조에서 각각의 `노드를 정확히 한 번씩` 체계적인 방법으로 `방문`하는 과정이다.

- 필요 용어

  - N (Node) : 해당 노드를 방문

  - L (Left) : 왼쪽 부속 트리로 이동

  - R (Right) : 오른쪽 부속 트리로 이동

    ![트리](/image/트리5.png)

- 순회 방식

  - 전위 순회 (Pre-order) : `N` - L - R

    1. 노드를 방문한다.

    2. 왼쪽 부속 트리를 전위 순회 한다.

    3. 오른쪽 부속 트리를 전위 순회 한다.

    4. 따라서, 방문 순서는` F -> B -> A -> D -> C -> E -> G -> I -> H` 이다.

    - 의사 코드 (pseudo-code)

      ![트리](/image/트리6.png)

  - 중위 순회 (In-order) : L - `N` - R

    1. 왼쪽 부속 트리를 중위 순회 한다.

    2. 현재 노드를 방문 한다.

    3. 오른쪽 부속 트리를 중위 순회 한다.

    4. 따라서, 방문 순서는 `A -> B -> C -> D -> E -> F -> G -> H -> I` 이다.

    - 의사 코드 (pseudo-code)

      ![트리](/image/트리7.png)

  - 후위 순회 (Post-order) : L - R - `N`

    1. 왼쪽 부속 트리를 후위 순회한다.

    2. 오른쪽 부속 트리를 후위 순회한다.

    3. 현재 노드를 방문한다.

    4. 따라서, 방문 순서는 `A -> C -> E -> D -> B -> H -> I -> G -> F` 이다.

    - 의사 코드 (pseudo-code)

      ![트리](/image/트리9.png)

  - 층별 순회 (Level-order) : 낮은 Level부터 순차적으로 순회

    1. root 노드 방문

    2. level 증가

    3. 왼쪽에서 오른쪽 순으로 방문

    4. 따라서, 방문 순서는 `F -> B -> G -> A -> D -> I -> C -> E -> H` 이다.

    - 의사 코드 (pseudo-code)

      ![트리](/image/트리8.png)

## 6. 이진 트리 (Binary Tree)

- 이진트리는 각각의 노드가 `최대 두개의 자식 노드`를 가지는 트리 자료구조이다.

- 즉, 자식 노드의 수가 2개 이하인 것을 `이진 트리`라고 한다.

- 대부분 응용에서 일반 트리 보다는 원래부터 이진 트리로 표현된 문제가 많다.

  ![이진트리](/image/이진트리1.png)

- 활용 방식

  - 검색과 정렬 : 이진 탐색 트리와 이진 힙 구현에 활용

  - 허프만 코팅 : 연관 분기 구조 위한 데이터 표현에 활용

- 이진 트리의 종류

  - `포화 이진 트리 (Perfect binary tree)`

    - 모든 레벨의 노드가 가득 채워져 있는 트리이다.

      ![이진트리](/image/이진트리2.png)

    - 특징

      - Leaf 노드 (단말 노드)를 제외한 모든 자식은 2개의 노드를 보유한다.

      - 노드의 개수 : n = 2^h - 1

  - `완전 이진 트리 (Complete binary tree)`

    - 마지막 레벨 전까지 노드가 가득 채워져 있고, 마지막 레벨은 `왼쪽부터 순차적`으로 채워져 있는 트리이다.

      ![이진트리](/image/이진트리3.png)

    - 특징

      - 배열을 사용해 효율적인 표현이 가능하다.

      - 노드의 개수 : n < 2^h - 1

      > 만약 그림과 달리 E가 없고 level 3에 D와 F만 있다면 왼쪽 부터 채워지지 않았기 떄문에 완전 이진 트리가 아니다.

  - `정 이진 트리 (Full(proper, plane) binary tree)`

    - 모든 노드가 0개 또는 2개의 자식 노드만 갖는 트리이다.

      ![이진트리](/image/이진트리4.png)

    - 특징

      - proper 또는 plane 이진트리라고도 불린다.

      - 노드의 개수 : n <= 2^h - 1

  - `편향 이진 트리 (Skewed binary tree)`

    - 왼쪽 혹은 오른쪽으로 편향되게 치우쳐 있는 트리이다.

      ![이진트리](/image/이진트리5.png)

    - 특징

      - 각각의 높이에 하나의 노드만 존재

      - 노드의 개수 : h

  - `균형 이진 트리 (Balanced binary tree)`

    - 삽입/삭제가 이루어 질 때, 왼쪽 부속 트리와 오른쪽 부속 트리의 높이 차를 1 이하로 맞추는 이진 탐색 트리이다.

      ![이진트리](/image/이진트리6.png)

    - 특징

      - 부속 트리 높이 차이가 항상 1 이하로 유지한다.

      - 균형 이진 트리 종류

        - AVL트리, Red-Black 트리, B 트리, B+ 트리, B\* 트리

## 7. 이진 트리 (Binary Tree) 순회

- 각각의 노드가 최대 두개의 자식 노드를 가지는 트리 자료 구조를 순회하는 방법

  ![이진트리](/image/이진트리7.png)

- 구현 메서드(method)

  ![이진트리](/image/이진트리8.png)

- ### `7-1. 이진 트리 구현`

  - [이진 트리 구현 코드](https://github.com/gang-min/TIL/blob/main/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%EC%9D%B4%EC%A7%84%ED%8A%B8%EB%A6%AC.html)

  - 이진 트리 구현 (1)

    - Node 생성자 함수, BinaryTree() 생성자 함수, \_insertNode() 메서드, insert() 메서드 구현

      - 노드를 추가할 때, 위의 그림에서 B기준으로 작은값은 왼쪽 부속 트리로, B기준으로 큰값은 오른쪽 부속 트리로 추가하는 특정한 규칙을 가지고 노드를 추가할 것이다. `이러한 삽입 방식이 이진 탐색 트리에서의 삽입 규칙이다.`

      - 참고 : _insertNode() 메서드에 `"_"` 표시는 내부적으로 쓰이는 함수라고 이해하면 된다. (Private)

      ![이진트리](/image/이진트리9.png)

  - 이진 트리 구현 (2)

    - 전위 순회 : `N` -> L -> R

    - \_preOrderTraverseNode() 메서드, preOrderTraverse() 메서드, printNode() 콜백함수 구현

      ![이진트리](/image/이진트리10.png)

  - 이진 트리 구현 (3)

    - 중위 순회 : L -> `N` -> R

    - \_inOrderTraverseNode() 메서드, inOrderTraverse() 메서드 구현

      ![이진트리](/image/이진트리11.png)

  - 이진 트리 구현 (4)

    - 후위 순회 : L -> R -> `N`

    - \_postOrderTraverseNode() 메서드, postOrderTraverse() 메서드 구현

      ![이진트리](/image/이진트리12.png)

  - 이진 트리 구현 (5)

    - 층별 순회 : 낮은 Level부터 순차적으로 순회

    - \_levelOrderTraverseNode() 메서드, levelOrderTraverse() 메서드 구현

    - `층별 순회는 큐를 활용하여야 한다.`

      ![이진트리](/image/이진트리13.png)
