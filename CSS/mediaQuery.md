# Media Query

## `미디어 쿼리 사용하기`

- 미디어 쿼리는 단말기의 유형(출력물 vs 화면)과 어떤 특성이나 수치(화면 해상도, 뷰포트 너비 등)에 따라 웹 사이트나 앱의 스타일을 수정할 떄 사용한다.

* 미디어 쿼리는 선택 사항인 미디어 유형과, 자유로운 수의 미디어 특성 표현식으로 이루어진다.

* 논리 연산자를 사용해 다수의 쿼리를 다양한 방법으로 결합할 수도 있다.

* 미디어 쿼리는 대소문자를 구분하지 않는다.

* 미디어 쿼리는 유형을 지정했다면 문서를 보여주는 미디어의 유형이 일치하고 모든 미디어 특성 표현식의 계산값이 참일 때 참으로 계산된다.

* `미디어 유형`

  - 미디어 유형은 장치의 일반적인 범주를 나타낸다. 유형은 `not`이나 `only` 논리 연산자를 사용할 때를 제외하면 선택사항이며 지정하지 않으면 `all`을 사용한다.

    1. all : 모든 장치에 적합하다.

    2. print : 인쇄 결과물 및 출력 미리보기 화면에 표시 중인 문서이다.

    3. screen : 주로 화면이 대상이다.

    4. speech : 음성 합성 장치 대상이다.

* `미디어 특성`

  - 미디어 특성은 사용자 에이전트(브라우저), 출력장치, 환경 등의 특징을 나타낸다. 미디어 특성 표현식은 선택사항이며 특성의 존재 여부와 값을 판별한다. 각각의 미디어 특성 표현식은 `괄호`로 감싸야 한다.

  - 미디어 특성은 MDN 사이트를 참조 하여라.

    - [미디어쿼리 MDN](https://developer.mozilla.org/ko/docs/Web/CSS/Media_Queries/Using_media_queries)

* `논리 연산자`

  - `not`, `and`, `only`와 같은 논리 연산자를 사용해 복잡한 쿼리를 조합할 수 있다. 여러 미디어 쿼리를 쉼표로 구분해서 하나의 규칙으로 만들 수도 있다.

  - and

    : and 연산자는 다수의 미디어 특성을 조합하여 하나의 미디어 쿼리를 만들 때 사용한다. 쿼리가 참이라면 모든 구성 특성이 참을 반환해야 한다.

  - not

    : not 연산자는 미디어 쿼리를 부정하여, 쿼리가 거짓일 때만 참을 반환한다. not 연산자를 사용할 경우 반드시 미디어 유형도 지정해야 한다.

  - only

    : only 연산자는 전체 쿼리가 일치할 때만 스타일을 적용할 때 사용하며 오래 된 브라우저가 스타일을 잘못 적용하지 못하도록 방지할 때 유용하다. 만약 only를 사용하지 않은 screen and (max-width: 500px) 쿼리를 가정했을 때, 구형 브라우저는 쿼리를 단순히 screen으로만 읽고 뒷부분은 무시한 채 스타일을 적용해버린다. only 연산자를 사용할 경우 반드시 미디어 유형도 지정한다.

  * ,(쉼표)

    : 쉼표는 다수의 미디어 쿼리를 하나의 규칙으로 조합할 때 사용한다. 쉼표 목록 내의 쿼리 각각은 나머지와 별개로 취급하므로, 단 하나의 쿼리만 참을 반환해도 규칙 전체가 참이 된다. 즉 쉼표는 논리 `or`연산자 처럼 동작한다.

* `미디어 유형 특정하기`

  - 미디어 유형은 주어진 장치의 일반적인 분류를 설명한다.

  - 미디어 유형은 굉장히 넓은 범위에서 장치를 설명하기 때문에 적은 수만 존재하고, `더 세부적인 특성을 특정하려면 미디어 기능을 사용`한다.

```
//CSS 프린터를 특정한다.

@media print { ... }

// ,(쉼표,or)을 사용해 다수의 장치를 특정할 수도 있다. 스크린 또는 인쇄 장치 모두 특정한다.

@media screen, print { ... }
```

- `미디어 기능 특정하기`

  - 미디어 기능은 주어진 사용자 에이전트(브라우저), 출력 장치, 주변 환경의 특징을 설명한다.

```
// 브라우저의 뷰포트 너비가 12450px 이하인 경우에만 CSS 스타일을 적용한다.

@media (max-width: 12450px) { ... }
```

- `복잡한 미디어 쿼리 생성`

  - 때로는 사용자가 다수의 조건으로 구성된 쿼리를 생성하기 원할 수도 있다. 이떄 논리연산자인 : not, and, only를 사용하면 된다.

  - 더 나아가, 사용자는 미디어쿼리를 쉼표로 연결하는 리스트를 작성할 수도 있다. `이렇게 함으로써 사용자는 다영한 상황에서 같은 스타일을 적용할 수 있다.`

  - `and`연산자는 `미디어 유형`과` 미디어 기능`을 그룹지을 수 있다. 또한` 복수의 미디어 기능을 하나의 미디어 쿼리로 결합`해낼수도 있다.

  * `not`연산자는 미디어 쿼리 자체를 부정시키는데 근본적으로` 원래의 의미를 반전`시킨다.

  * `only`연산자는 구형 브라우저가 스타일을 적용시키지 못하게 한다.

> 주의 : 대부분의 경우, 다른 미디어 유형이 특정되지 않았을 때 default로 `all`이 적용된다. 하지만, 사용자가 `not` 이나 `only` 연산자를 사용하면 사용자는 반듯 미디어 유형을 특정해야 한다.

- `다수의 유형과 기능 조합하기`

```
// 미디어 기능 and 미디어 기능 조합 (기기의 landscape(가로방향화면)방향으로 제한시키고 최소폭을 300em으로 일떄 CSS 스타일 적용)

@media (min-width: 30em) and (orientation: landscape) { ... }

// 미디어 유형 and 미디어 기능 조합 (화면에 달린 기기에만 기기의 landscape(가로방향화면)방향으로 제한시키고 최소폭을 300em으로 일떄 CSS 스타일 적용)

@media screen and (min-width: 30em) and (orientation: landscape) { ... }
```

- `media query의 지정방법`

  - 미디어 쿼리를 이용해서 CSS를 적용하는 방법은 총 3가지가 있다

    1. HTML의 head에 link태그의 media attribute로 지정

    ```
    <link href="css/common.css" rel="stylesheet" type="text/css" media="screen and (min-width:0px) and (max-width:480px)">
    ```

    2. CSS 파일 내에서 @media 지정

    ```
    @media all and (min-width:480px) { ...}
    ```

    3. CSS 파일 내에서 import 하기

    ```
    /* common.css */

    @import "../media.css";
    /* media file */
    @media screen and (min-width:768px) { ... }
    ```
